<section class="max-w-6xl mx-auto p-4 grid md:grid-cols-3 gap-6">
  <!-- Liste des prestations (coûts utilisés) -->
  <div class="md:col-span-2">
    <h2 class="text-xl font-semibold mb-3">Coût de revient par prestation</h2>
    <p class="text-sm text-neutral-500 mb-4">
      Montants en €/m² et €/meuble selon les prestations cochées dans Devis. Les coûts saisis ci-dessous priment.
    </p>

    <div id="cr-services-list" class="space-y-2"><!-- rendu par JS --></div>

    <!-- Tableau de saisie de tes coûts -->
    <div id="cr-config-card" class="rounded-xl border border-neutral-200 bg-white p-4 mt-6">
      <div class="flex items-center justify-between gap-3 mb-3">
        <h3 class="text-base font-semibold">Mes coûts de revient (€/m²)</h3>
        <button id="btn-cr-reset-costs" type="button"
          class="h-9 px-3 rounded-lg border border-neutral-300 hover:bg-neutral-50 text-sm">
          Réinitialiser mes coûts
        </button>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead class="text-left text-neutral-500">
            <tr>
              <th class="py-2 pr-3">Prestation</th>
              <th class="py-2 pr-3">Mon CR €/m²</th>
              <th class="py-2">PV €/m² (TTC)</th>
            </tr>
          </thead>
          <tbody id="cr-config-table"><!-- rendu par JS --></tbody>
        </table>
      </div>

      <p class="text-xs text-neutral-500 mt-2">
        Saisie auto, enregistrée localement (navigateur). Laisse vide pour utiliser le coût par défaut / marge.
      </p>
    </div>
  </div>

  <!-- Récap latéral -->
  <aside class="md:col-span-1">
    <div class="sticky top-20 rounded-xl border border-neutral-200 bg-white p-4 space-y-3">
      <h3 class="text-base font-semibold">Récapitulatif</h3>

      <div class="text-sm text-neutral-500">Surface totale</div>
      <div id="cr-surface" class="text-lg font-semibold">— m²</div>

      <hr class="my-2">

      <div class="text-sm text-neutral-500">Coût de revient / m²</div>
      <div id="cr-m2" class="text-lg font-semibold">— €/m²</div>

      <div class="text-sm text-neutral-500 mt-2">Coût de revient / meuble</div>
      <div id="cr-meuble" class="text-lg font-semibold">— €</div>

      <hr class="my-2">

      <div class="text-sm text-neutral-500">Prix vendu / m²</div>
      <div class="text-sm">HT : <span id="pv-m2-ht" class="font-medium">— €/m²</span></div>
      <div class="text-sm">TTC : <span id="pv-m2-ttc" class="font-medium">— €/m²</span></div>

      <div class="text-sm text-neutral-500 mt-2">Prix vendu total</div>
      <div class="text-sm">HT : <span id="pv-total-ht" class="font-medium">— €</span></div>
      <div class="text-sm">TTC : <span id="pv-total-ttc" class="font-medium">— €</span></div>

      <hr class="my-2">

      <div class="text-sm text-neutral-500">Rentabilité (sur HT)</div>
      <div id="rentabilite" class="text-lg font-semibold">— %</div>

      <p id="cr-hint" class="text-xs text-neutral-500 mt-2 hidden">
        Astuce : définis <code>PRICING.costs.servicesM2</code> ou une <code>PRICING.margin</code> pour l’estimation par défaut.
      </p>
    </div>
  </aside>
</section>
